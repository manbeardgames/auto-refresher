(function(t,s,e,n){"use strict";function o(s,e){let n=this;n.element=t(s),n.settings=t.extend({},a,e),n._defaults=a,n._name=r,(!Number.isInteger(n.settings.seconds)||n.settings.seconds<=0)&&(n.settings.seconds=n._defaults.seconds),t.isFunction(n.settings.callback)||(n.settings.callback=n._defaults.callback),null!==n.settings.startButtonClass&&0!==n.settings.startButtonClass.trim().length||(n.settings.startButtonClass=n._defaults.startButtonClass),null!==n.settings.stopButtonClass&&0!==n.settings.startButtonClass.trim().length||(n.settings.stopButtonClass=n._defaults.stopButtonClass),n.element.on("start",function(){n.startAutoRefresh(n)}),n.element.on("stop",function(){n.stopAutoRefresh(n)}),n.element.hasClass("auto-refresher")||n.element.addClass("auto-refresher"),n.settings.showControls&&(t("<button />").attr({type:"button",class:n.settings.stopButtonClass}).html(n.settings.stopButtonInner).on("click",function(){n.stopAutoRefresh(n)}).appendTo(n.element),t("<button />").attr({type:"button",class:n.settings.startButtonClass}).html(n.settings.startButtonInner).on("click",function(){n.startAutoRefresh(n)}).appendTo(n.element));let o=t("<div />").attr({class:"auto-refresher-container"}).css({height:n.settings.progressBarHeight,"background-color":n.settings.backgroundColor}).appendTo(n.element);n.progressBar=t("<span />").attr({class:"auto-refresher-progress-bar"}).css({"background-color":n.settings.foregroundColor}).appendTo(o),n.startAutoRefresh(n)}var r="autoRefresher",a={seconds:60,callback:function(){location.reload()},showControls:!0,progressBarHeight:"7px",stopButtonClass:"auto-refresher-button",startButtonClass:"auto-refresher-button",stopButtonInner:"Stop",startButtonInner:"Start",backgroundColor:"#6C757D",foregroundColor:"#007BFF",timeRemainingId:"#auto-refresher-time-remaining"};t.extend(o.prototype,{inProgress:!1,progressBar:null,timeout:null,interval:null,settings:{},timeRemaining:0,startAutoRefresh:function(e){e.inProgress||(e.inProgress=!0,e.progressBar.css({transition:e.settings.seconds+"s linear"}),e.progressBar.width("100%"),e.timeout=s.setTimeout(function(){e.progressBar.css({transition:""}),s.clearInterval(e.interval),e.settings.callback()},1e3*e.settings.seconds),e.timeRemaining=e.settings.seconds,e.interval=s.setInterval(function(){e.timeRemaining--,t(e.settings.timeRemainingId).html(e.timeRemaining)},1e3))},stopAutoRefresh:function(t){t.inProgress&&(t.inProgress=!1,t.progressBar.css({transition:""}),t.progressBar.width("0%"),s.clearTimeout(t.timeout),s.clearInterval(t.interval))}}),t.fn[r]=function(s){return this.each(function(){t.data(this,"plugin_"+r)||t.data(this,"plugin_"+r,new o(this,s))})}})(jQuery,window,document);